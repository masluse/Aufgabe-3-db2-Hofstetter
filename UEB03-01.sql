-- ------------------------------------------------------------------------------------------------
-- Dies ist ein Kommentar, d.h. diese Zeile wird NICHT ausgefuehrt
-- ------------------------------------------------------------------------------------------------

CREATE TABLESPACE STBDPOSTFILESTREET
  PAGESIZE 4096
  MANAGED BY AUTOMATIC STORAGE
;

CREATE TABLESPACE STBDPOSTFILEZIP
  PAGESIZE 4096
  MANAGED BY AUTOMATIC STORAGE
;


CREATE TABLE UEB03A.TBDPOSTFILESTREET (
       TBDPOSTFILESTREETID  BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY( START WITH 1, INCREMENT BY 1, CACHE 100000),
       STREET               VARCHAR(120),
       ZIP4                 CHAR(4),
       ZIPADDON             CHAR(2),
       ZIP6                 CHAR(6),
       SHORTCITY            VARCHAR(54),
       COUNTRY              CHAR(2),
       ADDRSCANTON          CHAR(2),
       STREETNR             INTEGER,
       STREETNRADDON        VARCHAR(6),
       POLGNAME             VARCHAR(60),
       POLGCANTON           CHAR(2),
       BFSNR                INTEGER,
       LASTUPDATED          TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP
)
IN STBDPOSTFILESTREET
;


COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.TBDPOSTFILESTREETID IS '''Primary Key''';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.STREET IS 'Street name';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.ZIP4 IS '4 digits of ZIP';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.ZIPADDON IS 'ZIP addon';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.ZIP6 IS 'Full ZIP (6 digits)';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.SHORTCITY IS 'Short city name (27 characters)';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.COUNTRY IS 'Country';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.ADDRSCANTON IS 'Address canton';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.STREETNR IS 'Street no w/o addon';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.STREETNRADDON IS 'Addon (like 22A)';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.POLGNAME IS 'Pol. municipality name';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.POLGCANTON IS 'Municipality canton';
COMMENT ON COLUMN UEB03A.TBDPOSTFILESTREET.LASTUPDATED IS 'timestamp of last change';


CREATE TABLE UEB03A.TBDPOSTFILEZIP (
       TBDPOSTFILEZIPID     BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY( START WITH 1, INCREMENT BY 1, CACHE 100000),
       ZIP4                 CHAR(4),
       ZIPADDON             CHAR(2),
       ZIP6                 CHAR(6),
       CITY                 VARCHAR(60),
       SHORTCITY            VARCHAR(54),
       COUNTRY              CHAR(2),
       BFSNR                INTEGER,
       POLGNAME             VARCHAR(60),
       CANTON               CHAR(2),
       LASTUPDATED          TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP
)
IN STBDPOSTFILEZIP
;

COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.TBDPOSTFILEZIPID IS '''Primary Key''';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.ZIP4 IS '4 digits of ZIP';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.ZIPADDON IS 'ZIP addon';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.ZIP6 IS 'Full ZIP (6 digits)';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.CITY IS 'City name
';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.SHORTCITY IS 'Short city name (27 characters)';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.COUNTRY IS 'Country';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.POLGNAME IS 'Pol. municipality name';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.CANTON IS 'Municipality canton';
COMMENT ON COLUMN UEB03A.TBDPOSTFILEZIP.LASTUPDATED IS 'timestamp of last change';

  

CREATE UNIQUE INDEX UEB03A.XPKTBDPOSTFILESTRE ON UEB03A.TBDPOSTFILESTREET
(
       TBDPOSTFILESTREETID            ASC
);

CREATE INDEX UEB03A.XIE1TBDPOSTFILESTR ON UEB03A.TBDPOSTFILESTREET
(
       ZIP6                           ASC
);

CREATE INDEX UEB03A.XIE2TBDPOSTFILESTR ON UEB03A.TBDPOSTFILESTREET
(
       STREET                         ASC,
       ZIP6                           ASC,
       STREETNR                       ASC
);

ALTER TABLE UEB03A.TBDPOSTFILESTREET  ADD CONSTRAINT XPKTBDPOSTFILESTRE PRIMARY KEY (
              TBDPOSTFILESTREETID
);
  
  
CREATE INDEX UEB03A.XIE3TBDPOSTFILESTR ON UEB03A.TBDPOSTFILESTREET
(
       ZIP4                           ASC
);

CREATE INDEX UEB03A.XIE4TBDPOSTFILESTR ON UEB03A.TBDPOSTFILESTREET
(
       STREET                         ASC,
       ZIP4                           ASC,
       STREETNR                       ASC
);

CREATE INDEX UEB03A.XIE5TBDPOSTFILESTR ON UEB03A.TBDPOSTFILESTREET
(
       BFSNR                          ASC
);

  
CREATE UNIQUE INDEX UEB03A.XPKTBDPOSTFILEZIP ON UEB03A.TBDPOSTFILEZIP
(
       TBDPOSTFILEZIPID               ASC
);

ALTER TABLE UEB03A.TBDPOSTFILEZIP  ADD CONSTRAINT XPKTBDPOSTFILEZIP PRIMARY KEY (
      TBDPOSTFILEZIPID
);
  
CREATE INDEX UEB03A.XIE1TBDPOSTFILEZIP ON UEB03A.TBDPOSTFILEZIP
(
       BFSNR                           ASC
);
  
CREATE INDEX UEB03A.XIE2TBDPOSTFILEZIP ON UEB03A.TBDPOSTFILEZIP
(
       ZIP4                           ASC
);

CREATE INDEX UEB03A.XIE3TBDPOSTFILEZIP ON UEB03A.TBDPOSTFILEZIP
(
       ZIP6                           ASC
);


ECHO ******************** END OF SCRIPT ********************; 

