-- ------------------------------------------------------------------------------------------------
-- Dies ist ein Kommentar, d.h. diese Zeile wird NICHT ausgefuehrt
-- ------------------------------------------------------------------------------------------------

-- disable STOP ON ERROR 
UPDATE COMMAND OPTIONS USING S OFF ; 

DROP TABLE IF EXISTS UEB03B.TBDPOSTFILESTREET;
DROP TABLE IF EXISTS UEB03B.TBDPOSTFILEZIP;

CREATE TABLESPACE STBDPOSTFILESTREET
  PAGESIZE 4096
  MANAGED BY AUTOMATIC STORAGE
;

CREATE TABLESPACE STBDPOSTFILEZIP
  PAGESIZE 4096
  MANAGED BY AUTOMATIC STORAGE
;


-- enable STOP ON ERROR again 
UPDATE COMMAND OPTIONS USING S ON ;


CREATE TABLE UEB03B.TBDPOSTFILESTREET (
       TBDPOSTFILESTREETID  BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY( START WITH 1, INCREMENT BY 1, CACHE 100000),
       STREET               VARCHAR(120),
       ZIP4                 CHAR(4),
       ZIPADDON             CHAR(2),
       ZIP6                 CHAR(6),
       SHORTCITY            VARCHAR(54),
       COUNTRY              CHAR(2),
       ADDRSCANTON          CHAR(2),
       STREETNR             INTEGER,
       STREETNRADDON        VARCHAR(6),
       POLGNAME             VARCHAR(60),
       POLGCANTON           CHAR(2),
       BFSNR                INTEGER,
       LASTUPDATED          TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP,
	   PRIMARY KEY (TBDPOSTFILESTREETID)
)
IN STBDPOSTFILESTREET
;


COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.TBDPOSTFILESTREETID IS '''Primary Key''';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.STREET IS 'Street name';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.ZIP4 IS '4 digits of ZIP';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.ZIPADDON IS 'ZIP addon';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.ZIP6 IS 'Full ZIP (6 digits)';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.SHORTCITY IS 'Short city name (27 characters)';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.COUNTRY IS 'Country';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.ADDRSCANTON IS 'Address canton';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.STREETNR IS 'Street no w/o addon';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.STREETNRADDON IS 'Addon (like 22A)';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.POLGNAME IS 'Pol. municipality name';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.POLGCANTON IS 'Municipality canton';
COMMENT ON COLUMN UEB03B.TBDPOSTFILESTREET.LASTUPDATED IS 'timestamp of last change';


CREATE TABLE UEB03B.TBDPOSTFILEZIP (
       TBDPOSTFILEZIPID     BIGINT NOT NULL GENERATED BY DEFAULT AS IDENTITY( START WITH 1, INCREMENT BY 1, CACHE 100000),
       ZIP4                 CHAR(4),
       ZIPADDON             CHAR(2),
       ZIP6                 CHAR(6),
       CITY                 VARCHAR(60),
       SHORTCITY            VARCHAR(54),
       COUNTRY              CHAR(2),
       BFSNR                INTEGER,
       POLGNAME             VARCHAR(60),
       CANTON               CHAR(2),
       LASTUPDATED          TIMESTAMP NOT NULL DEFAULT CURRENT TIMESTAMP,
   	   PRIMARY KEY (TBDPOSTFILEZIPID)
)
IN STBDPOSTFILEZIP
;

COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.TBDPOSTFILEZIPID IS '''Primary Key''';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.ZIP4 IS '4 digits of ZIP';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.ZIPADDON IS 'ZIP addon';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.ZIP6 IS 'Full ZIP (6 digits)';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.CITY IS 'City name';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.SHORTCITY IS 'Short city name (27 characters)';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.COUNTRY IS 'Country';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.POLGNAME IS 'Pol. municipality name';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.CANTON IS 'Municipality canton';
COMMENT ON COLUMN UEB03B.TBDPOSTFILEZIP.LASTUPDATED IS 'timestamp of last change';
	  
	  

CREATE UNIQUE INDEX UEB03B.XPKTBDPOSTFILESTRE ON UEB03B.TBDPOSTFILESTREET
(
       TBDPOSTFILESTREETID            ASC
);

CREATE INDEX UEB03B.XIE1TBDPOSTFILESTR ON UEB03B.TBDPOSTFILESTREET
(
       ZIP6                           ASC
);

CREATE INDEX UEB03B.XIE2TBDPOSTFILESTR ON UEB03B.TBDPOSTFILESTREET
(
       STREET                         ASC,
       ZIP6                           ASC,
       STREETNR                       ASC
);
	  
CREATE INDEX UEB03B.XIE3TBDPOSTFILESTR ON UEB03B.TBDPOSTFILESTREET
(
       ZIP4                           ASC
);

CREATE INDEX UEB03B.XIE4TBDPOSTFILESTR ON UEB03B.TBDPOSTFILESTREET
(
       STREET                         ASC,
       ZIP4                           ASC,
       STREETNR                       ASC
);

CREATE INDEX UEB03B.XIE5TBDPOSTFILESTR ON UEB03B.TBDPOSTFILESTREET
(
       BFSNR                          ASC
);

			  
CREATE UNIQUE INDEX UEB03B.XPKTBDPOSTFILEZIP ON UEB03B.TBDPOSTFILEZIP
(
       TBDPOSTFILEZIPID               ASC
);

  
CREATE INDEX UEB03B.XIE1TBDPOSTFILEZIP ON UEB03B.TBDPOSTFILEZIP
(
       BFSNR                           ASC
);
	  
CREATE INDEX UEB03B.XIE2TBDPOSTFILEZIP ON UEB03B.TBDPOSTFILEZIP
(
       ZIP4                           ASC
);

CREATE INDEX UEB03B.XIE3TBDPOSTFILEZIP ON UEB03B.TBDPOSTFILEZIP
(
       ZIP6                           ASC
);


ECHO ******************** END OF SCRIPT ******************************; 

